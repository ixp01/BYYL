# ç¼–è¯‘å™¨å‰ç«¯ (Compiler Frontend)

ä¸€ä¸ªå®Œæ•´çš„ç¼–è¯‘å™¨å‰ç«¯å®žçŽ°ï¼ŒåŒ…å«è¯æ³•åˆ†æžã€è¯­æ³•åˆ†æžã€è¯­ä¹‰åˆ†æžå’Œä¸­é—´ä»£ç ç”Ÿæˆå››ä¸ªé˜¶æ®µï¼Œé…å¤‡çŽ°ä»£åŒ–çš„Qtå›¾å½¢ç”¨æˆ·ç•Œé¢ã€‚

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Platform](https://img.shields.io/badge/platform-Linux%20%7C%20Windows%20%7C%20macOS-lightgrey.svg)
![Language](https://img.shields.io/badge/language-C%2B%2B17-orange.svg)
![Qt](https://img.shields.io/badge/Qt-5.15%2B-green.svg)

## ðŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªç”¨äºŽç¼–è¯‘åŽŸç†æ•™å­¦å’Œç ”ç©¶çš„å®Œæ•´ç¼–è¯‘å™¨å‰ç«¯å®žçŽ°ï¼Œæ”¯æŒç±»Cè¯­è¨€çš„ç¼–è¯‘è¿‡ç¨‹ã€‚é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ¯ä¸ªç¼–è¯‘é˜¶æ®µéƒ½å¯ä»¥ç‹¬ç«‹æµ‹è¯•å’ŒéªŒè¯ã€‚

### ðŸŽ¯ ä¸»è¦ç‰¹æ€§

- âœ… **å®Œæ•´çš„å››é˜¶æ®µç¼–è¯‘å™¨å‰ç«¯**
  - è¯æ³•åˆ†æž (Lexical Analysis)
  - è¯­æ³•åˆ†æž (Syntax Analysis) 
  - è¯­ä¹‰åˆ†æž (Semantic Analysis)
  - ä»£ç ç”Ÿæˆ (Code Generation)

- âœ… **å…ˆè¿›çš„ç®—æ³•å®žçŽ°**
  - DFAæœ€å°åŒ–ç®—æ³•
  - LALR(1)è¯­æ³•åˆ†æžå™¨
  - ç¬¦å·è¡¨ç®¡ç†
  - ä¸‰åœ°å€ç ç”Ÿæˆ

- âœ… **çŽ°ä»£åŒ–å›¾å½¢ç•Œé¢**
  - åŸºäºŽQt5/Qt6çš„ç”¨æˆ·ç•Œé¢
  - è¯­æ³•é«˜äº®ç¼–è¾‘å™¨
  - å®žæ—¶é”™è¯¯æ ‡è®°
  - å¤šæ ‡ç­¾é¡µåˆ†æžç»“æžœå±•ç¤º

- âœ… **å®Œå–„çš„æµ‹è¯•ä½“ç³»**
  - å•å…ƒæµ‹è¯•è¦†ç›–å„ä¸ªæ¨¡å—
  - è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
  - ä¸°å¯Œçš„æµ‹è¯•ç”¨ä¾‹

## ðŸ—ï¸ é¡¹ç›®ç»“æž„

```
.
â”œâ”€â”€ src/                    # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ lexer/             # è¯æ³•åˆ†æžå™¨
â”‚   â”‚   â”œâ”€â”€ token.h/cpp    # Tokenå®šä¹‰
â”‚   â”‚   â”œâ”€â”€ dfa.h/cpp      # DFAå®žçŽ°
â”‚   â”‚   â”œâ”€â”€ lexer.h/cpp    # è¯æ³•åˆ†æžå™¨
â”‚   â”‚   â””â”€â”€ minimizer.h/cpp # DFAæœ€å°åŒ–
â”‚   â”œâ”€â”€ parser/            # è¯­æ³•åˆ†æžå™¨
â”‚   â”‚   â”œâ”€â”€ grammar.h/cpp  # æ–‡æ³•å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ lalr.h/cpp     # LALRåˆ†æžå™¨
â”‚   â”‚   â”œâ”€â”€ parser.h/cpp   # è¯­æ³•åˆ†æžå™¨
â”‚   â”‚   â””â”€â”€ ast.h/cpp      # æŠ½è±¡è¯­æ³•æ ‘
â”‚   â”œâ”€â”€ semantic/          # è¯­ä¹‰åˆ†æžå™¨
â”‚   â”‚   â”œâ”€â”€ symbol_table.h/cpp      # ç¬¦å·è¡¨
â”‚   â”‚   â””â”€â”€ semantic_analyzer.h/cpp # è¯­ä¹‰åˆ†æžå™¨
â”‚   â”œâ”€â”€ codegen/          # ä»£ç ç”Ÿæˆå™¨
â”‚   â”‚   â”œâ”€â”€ intermediate_code.h/cpp # ä¸­é—´ä»£ç è¡¨ç¤º
â”‚   â”‚   â””â”€â”€ code_generator.h/cpp    # ä»£ç ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ gui/              # å›¾å½¢ç”¨æˆ·ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ mainwindow.h/cpp       # ä¸»çª—å£
â”‚   â”‚   â”œâ”€â”€ analysis_panel.h/cpp   # åˆ†æžé¢æ¿
â”‚   â”‚   â”œâ”€â”€ code_editor.h/cpp      # ä»£ç ç¼–è¾‘å™¨
â”‚   â”‚   â””â”€â”€ ...                    # å…¶ä»–UIç»„ä»¶
â”‚   â””â”€â”€ utils/            # å·¥å…·ç±»
â”œâ”€â”€ tests/                # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ test_main.cpp     # æµ‹è¯•ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ test_lexer.cpp    # è¯æ³•åˆ†æžå™¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_parser.cpp   # è¯­æ³•åˆ†æžå™¨æµ‹è¯•
â”‚   â”œâ”€â”€ test_semantic.cpp # è¯­ä¹‰åˆ†æžå™¨æµ‹è¯•
â”‚   â””â”€â”€ test_codegen.cpp  # ä»£ç ç”Ÿæˆå™¨æµ‹è¯•
â”œâ”€â”€ test_cases/           # é›†æˆæµ‹è¯•ç”¨ä¾‹
â”‚   â”œâ”€â”€ simple_assignment.c
â”‚   â”œâ”€â”€ arithmetic.c
â”‚   â”œâ”€â”€ variables.c
â”‚   â”œâ”€â”€ expressions.c
â”‚   â”œâ”€â”€ errors.c
â”‚   â””â”€â”€ complex.c
â”œâ”€â”€ run_tests.py         # è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
â”œâ”€â”€ test_cases.txt       # è¯¦ç»†æµ‹è¯•è¯´æ˜Ž
â”œâ”€â”€ complier.pro         # Qté¡¹ç›®æ–‡ä»¶
â”œâ”€â”€ main.cpp            # ç¨‹åºå…¥å£
â””â”€â”€ README.md           # é¡¹ç›®è¯´æ˜Ž
```

## ðŸ› ï¸ ç¼–è¯‘çŽ¯å¢ƒè¦æ±‚

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Linux (æŽ¨è Ubuntu 18.04+), Windows 10+, macOS 10.14+
- **ç¼–è¯‘å™¨**: GCC 7.0+ æˆ– Clang 6.0+ (æ”¯æŒC++17)
- **Qtæ¡†æž¶**: Qt 5.15+ æˆ– Qt 6.0+

### Ubuntu/Debian å®‰è£…ä¾èµ–
```bash
sudo apt update
sudo apt install build-essential qt5-default qt5-qmake \
                 qtbase5-dev qttools5-dev-tools \
                 libqt5widgets5 libqt5gui5 libqt5core5a
```

### CentOS/RHEL å®‰è£…ä¾èµ–
```bash
sudo yum groupinstall "Development Tools"
sudo yum install qt5-qtbase-devel qt5-qttools-devel
```

### Windows å®‰è£…ä¾èµ–
1. å®‰è£… [Qt 5.15+](https://www.qt.io/download)
2. å®‰è£… MinGW æˆ– Visual Studio 2019+
3. ç¡®ä¿ qmake åœ¨ç³»ç»Ÿ PATH ä¸­

### macOS å®‰è£…ä¾èµ–
```bash
# ä½¿ç”¨ Homebrew
brew install qt5
export PATH="/usr/local/opt/qt5/bin:$PATH"
```

## ðŸš€ ç¼–è¯‘å’Œè¿è¡Œ

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨ qmake (æŽ¨è)
```bash
# 1. ç”Ÿæˆ Makefile
qmake complier.pro

# 2. ç¼–è¯‘é¡¹ç›®
make

# 3. è¿è¡Œç¨‹åº
./CompilerFrontend
```

### æ–¹æ³•äºŒï¼šä½¿ç”¨ Qt Creator
```bash
# 1. æ‰“å¼€ Qt Creator
qtcreator complier.pro

# 2. ç‚¹å‡» "æž„å»º" æŒ‰é’®ç¼–è¯‘
# 3. ç‚¹å‡» "è¿è¡Œ" æŒ‰é’®å¯åŠ¨ç¨‹åº
```

### æ¸…ç†ç¼–è¯‘æ–‡ä»¶
```bash
make clean
# æˆ–è€…
make distclean  # æ›´å½»åº•çš„æ¸…ç†
```

## ðŸ“š ä½¿ç”¨æŒ‡å—

### åŸºç¡€ä½¿ç”¨æµç¨‹

1. **å¯åŠ¨ç¨‹åº**
   ```bash
   ./CompilerFrontend
   ```

2. **ç¼–å†™ä»£ç **
   - åœ¨ä»£ç ç¼–è¾‘å™¨ä¸­è¾“å…¥ç±»Cè¯­è¨€ä»£ç 
   - æ”¯æŒè¯­æ³•é«˜äº®å’Œè‡ªåŠ¨ç¼©è¿›
   - å®žæ—¶æ˜¾ç¤ºè¡Œå·å’Œé”™è¯¯æ ‡è®°

3. **æŸ¥çœ‹åˆ†æžç»“æžœ**
   - **è¯æ³•åˆ†æžæ ‡ç­¾é¡µ**: æŸ¥çœ‹Tokenåºåˆ—å’ŒDFAä¿¡æ¯
   - **è¯­æ³•åˆ†æžæ ‡ç­¾é¡µ**: æŸ¥çœ‹ASTç»“æž„å’Œè¯­æ³•ä¿¡æ¯
   - **è¯­ä¹‰åˆ†æžæ ‡ç­¾é¡µ**: æŸ¥çœ‹ç¬¦å·è¡¨å’Œç±»åž‹æ£€æŸ¥ç»“æžœ
   - **ä»£ç ç”Ÿæˆæ ‡ç­¾é¡µ**: æŸ¥çœ‹ç”Ÿæˆçš„ä¸‰åœ°å€ç 

### æ”¯æŒçš„è¯­è¨€ç‰¹æ€§

#### æ•°æ®ç±»åž‹
```c
int a;           // æ•´æ•°ç±»åž‹
float b;         // æµ®ç‚¹ç±»åž‹
char c;          // å­—ç¬¦ç±»åž‹
bool flag;       // å¸ƒå°”ç±»åž‹
```

#### å˜é‡å£°æ˜Žå’Œåˆå§‹åŒ–
```c
int x = 10;               // å£°æ˜Žå¹¶åˆå§‹åŒ–
float pi = 3.14159;       // æµ®ç‚¹æ•°
char ch = 'A';            // å­—ç¬¦
int arr[100];             // æ•°ç»„å£°æ˜Ž
```

#### è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦
```c
int result = (a + b) * c;          // ç®—æœ¯è¡¨è¾¾å¼
bool valid = (x > 0) && (y < 10);  // é€»è¾‘è¡¨è¾¾å¼
int bits = a & b | c ^ d;          // ä½è¿ç®—
```

#### æŽ§åˆ¶ç»“æž„
```c
// æ¡ä»¶è¯­å¥
if (condition) {
    // ...
} else {
    // ...
}

// å¾ªçŽ¯è¯­å¥
while (i < n) {
    i++;
}

for (int i = 0; i < 10; i++) {
    // ...
}
```

#### å‡½æ•°å®šä¹‰
```c
int factorial(int n) {
    if (n <= 1) {
        return 1;
    }
    return n * factorial(n - 1);
}
```

## ðŸ§ª æµ‹è¯•

### è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•
```bash
# ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹å¹¶è¿è¡Œæµ‹è¯•
python3 run_tests.py
```

### è¿è¡Œå•å…ƒæµ‹è¯•
```bash
# ç¼–è¯‘æµ‹è¯•ç¨‹åº
cd tests
qmake
make

# è¿è¡Œæµ‹è¯•
./test_runner
```

### æ‰‹åŠ¨æµ‹è¯•å»ºè®®

1. **è¯æ³•åˆ†æžæµ‹è¯•**
   - æµ‹è¯•å„ç§Tokenç±»åž‹è¯†åˆ«
   - éªŒè¯å…³é”®å­—ã€æ ‡è¯†ç¬¦ã€å¸¸é‡çš„æ­£ç¡®è§£æž
   - æ£€æŸ¥æ³¨é‡Šå¤„ç†å’Œé”™è¯¯æ¢å¤

2. **è¯­æ³•åˆ†æžæµ‹è¯•**
   - æµ‹è¯•è¡¨è¾¾å¼ä¼˜å…ˆçº§å’Œç»“åˆæ€§
   - éªŒè¯æŽ§åˆ¶ç»“æž„çš„è§£æž
   - æ£€æŸ¥è¯­æ³•é”™è¯¯çš„æ£€æµ‹å’ŒæŠ¥å‘Š

3. **è¯­ä¹‰åˆ†æžæµ‹è¯•**
   - æµ‹è¯•å˜é‡å£°æ˜Žå’Œä½œç”¨åŸŸ
   - éªŒè¯ç±»åž‹æ£€æŸ¥å’Œç±»åž‹è½¬æ¢
   - æ£€æŸ¥æœªå£°æ˜Žå˜é‡å’Œé‡å¤å£°æ˜Žçš„æ£€æµ‹

4. **ä»£ç ç”Ÿæˆæµ‹è¯•**
   - éªŒè¯ä¸‰åœ°å€ç çš„æ­£ç¡®æ€§
   - æ£€æŸ¥ä¸´æ—¶å˜é‡çš„åˆ†é…
   - æµ‹è¯•åŸºæœ¬å—åˆ’åˆ†å’Œä¼˜åŒ–ä¿¡æ¯

## ðŸŽ¨ ç•Œé¢åŠŸèƒ½

### ä¸»è¦åŠŸèƒ½
- **ä»£ç ç¼–è¾‘å™¨**: è¯­æ³•é«˜äº®ã€è¡Œå·æ˜¾ç¤ºã€è‡ªåŠ¨ç¼©è¿›
- **åˆ†æžé¢æ¿**: å››ä¸ªæ ‡ç­¾é¡µæ˜¾ç¤ºå„é˜¶æ®µåˆ†æžç»“æžœ
- **é”™è¯¯é¢æ¿**: æ˜¾ç¤ºç¼–è¯‘é”™è¯¯å’Œè­¦å‘Šä¿¡æ¯
- **çŠ¶æ€æ **: æ˜¾ç¤ºå½“å‰çŠ¶æ€å’Œå…‰æ ‡ä½ç½®

### å¿«æ·é”®
- `Ctrl+N`: æ–°å»ºæ–‡ä»¶
- `Ctrl+O`: æ‰“å¼€æ–‡ä»¶
- `Ctrl+S`: ä¿å­˜æ–‡ä»¶
- `Ctrl+F`: æŸ¥æ‰¾/æ›¿æ¢
- `F5`: è¿è¡Œåˆ†æž
- `F11`: å…¨å±æ¨¡å¼

## ðŸ”§ é«˜çº§é…ç½®

### ç¼–è¯‘é€‰é¡¹
åœ¨ `complier.pro` ä¸­å¯ä»¥é…ç½®ï¼š
```pro
# å¯ç”¨è°ƒè¯•ä¿¡æ¯
CONFIG += debug

# å¯ç”¨ä¼˜åŒ–
CONFIG += release

# æ·»åŠ é¢å¤–çš„ç¼–è¯‘æ ‡å¿—
QMAKE_CXXFLAGS += -Wall -Wextra
```

### è‡ªå®šä¹‰è®¾ç½®
- **å­—ä½“è®¾ç½®**: é€šè¿‡"è®¾ç½®"èœå•è°ƒæ•´ç¼–è¾‘å™¨å­—ä½“
- **ä¸»é¢˜è®¾ç½®**: æ”¯æŒäº®è‰²å’Œæš—è‰²ä¸»é¢˜åˆ‡æ¢
- **åˆ†æžé€‰é¡¹**: å¯ä»¥å¯ç”¨/ç¦ç”¨ç‰¹å®šçš„åˆ†æžæ­¥éª¤

## ðŸ› æ•…éšœæŽ’é™¤

### å¸¸è§é—®é¢˜

1. **ç¼–è¯‘é”™è¯¯: "Qt5Core not found"**
   ```bash
   # ç¡®ä¿Qtå¼€å‘åŒ…å·²å®‰è£…
   sudo apt install qtbase5-dev
   ```

2. **è¿è¡Œæ—¶é”™è¯¯: "cannot find libQt5Widgets.so"**
   ```bash
   # è®¾ç½®LD_LIBRARY_PATH
   export LD_LIBRARY_PATH=/usr/lib/x86_64-linux-gnu:$LD_LIBRARY_PATH
   ```

3. **ç•Œé¢æ˜¾ç¤ºå¼‚å¸¸**
   ```bash
   # æ£€æŸ¥Qtç‰ˆæœ¬å…¼å®¹æ€§
   qmake --version
   ```

### è°ƒè¯•æ¨¡å¼
ç¼–è¯‘è°ƒè¯•ç‰ˆæœ¬ï¼š
```bash
qmake CONFIG+=debug complier.pro
make
gdb ./CompilerFrontend
```

## ðŸ¤ è´¡çŒ®æŒ‡å—

### å‚ä¸Žè´¡çŒ®
1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æŽ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ C++17 æ ‡å‡†
- éµå¾ª Qt ç¼–ç è§„èŒƒ
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

## ðŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## ðŸ‘¥ ä½œè€…

- **xpjiao** - *åˆå§‹å·¥ä½œ* - [GitHub](https://github.com/ixp01)

## ðŸ™ è‡´è°¢

- Qt Framework å›¢é˜Ÿæä¾›ä¼˜ç§€çš„GUIæ¡†æž¶
- ç¼–è¯‘åŽŸç†ç»å…¸æ•™æã€Šé¾™ä¹¦ã€‹çš„ç†è®ºæŒ‡å¯¼
- å¼€æºç¤¾åŒºçš„å®è´µè´¡çŒ®å’Œåé¦ˆ

## ðŸ“ž è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- ðŸ“§ Email: [your-email@example.com]
- ðŸ› Issues: [GitHub Issues](https://github.com/ixp01/BYYL/issues)
- ðŸ“– Wiki: [é¡¹ç›®Wiki](https://github.com/ixp01/BYYL/wiki)

---

**â­ å¦‚æžœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStarï¼** 