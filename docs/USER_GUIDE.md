# 用户使用指南

## 📋 目录
- [程序启动](#程序启动)
- [界面介绍](#界面介绍)
- [基本操作](#基本操作)
- [高级功能](#高级功能)
- [快捷键列表](#快捷键列表)
- [常见问题](#常见问题)

## 🚀 程序启动

### 系统要求
- Linux操作系统 (Ubuntu 20.04+推荐)
- Qt5运行时环境
- 最少512MB可用内存

### 启动方法
```bash
# 在项目目录下运行
./CompilerFrontend
```

### 首次启动
程序首次启动时会：
- 初始化编译器组件
- 加载默认设置
- 创建空白编辑文档

## 🖥️ 界面介绍

### 主窗口布局
```
┌─────────────────────────────────────────────────────────┐
│ 菜单栏: 文件 编辑 分析 视图 帮助                          │
├─────────────────────────────────────────────────────────┤
│ 工具栏: [新建] [打开] [保存] [词法分析] [语法分析] ...    │
├─────────────────┬───────────────────────────────────────┤
│                 │ 分析结果面板                            │
│                 ├───────────────────────────────────────┤
│ 代码编辑器       │ ┌─ 词法分析 ─┐ 语法分析 语义分析 代码生成 │
│                 │ │Token列表  │                         │
│                 │ │DFA信息    │                         │
│                 │ │统计数据   │                         │
│                 │ └──────────┘                         │
├─────────────────┴───────────────────────────────────────┤
│ 状态栏: 行:列 | 字符数 | 分析状态                        │
└─────────────────────────────────────────────────────────┘
```

### 界面组件说明

#### 1. 代码编辑器
- **语法高亮**: 关键字、字符串、注释自动着色
- **行号显示**: 左侧显示行号，便于定位
- **自动缩进**: 智能的代码缩进
- **错误标记**: 红色下划线标记语法错误

#### 2. 分析结果面板
- **词法分析**: 显示Token列表、DFA信息、统计数据
- **语法分析**: 显示AST结构、文法信息、解析过程
- **语义分析**: 显示符号表、类型检查、错误列表
- **代码生成**: 显示中间代码、优化信息、基本块

#### 3. 状态栏
- **位置信息**: 显示光标所在行列
- **文档统计**: 显示字符数、行数
- **分析状态**: 显示当前分析进度

## 📝 基本操作

### 文件操作

#### 新建文件
1. **菜单方式**: 文件 → 新建 (Ctrl+N)
2. **工具栏**: 点击新建按钮
3. **快捷键**: Ctrl+N

#### 打开文件
1. **菜单方式**: 文件 → 打开 (Ctrl+O)
2. **支持格式**: .c, .cpp, .h, .hpp 等
3. **最近文件**: 文件菜单底部显示最近打开的文件

#### 保存文件
1. **保存**: Ctrl+S 或 文件 → 保存
2. **另存为**: Ctrl+Shift+S 或 文件 → 另存为
3. **自动保存**: 程序会在分析前自动提示保存

### 编辑操作

#### 基本编辑
- **撤销**: Ctrl+Z
- **重做**: Ctrl+Y
- **剪切**: Ctrl+X
- **复制**: Ctrl+C
- **粘贴**: Ctrl+V
- **全选**: Ctrl+A

#### 查找替换
1. **打开查找**: Ctrl+F
2. **打开替换**: Ctrl+H
3. **查找选项**:
   - 区分大小写
   - 全词匹配
   - 正则表达式
4. **查找操作**:
   - F3: 查找下一个
   - Shift+F3: 查找上一个

#### 转到行
1. **快捷键**: Ctrl+G
2. **输入行号**: 直接跳转到指定行

### 编译分析

#### 自动分析
- 程序默认开启自动词法分析
- 代码修改后1秒自动触发分析
- 结果实时显示在分析面板

#### 手动分析
1. **词法分析**: 分析 → 词法分析 或 F5
2. **语法分析**: 分析 → 语法分析 或 F6
3. **语义分析**: 分析 → 语义分析 或 F7
4. **代码生成**: 分析 → 代码生成 或 F8
5. **完整分析**: 分析 → 完整分析 或 F9

#### 分析结果查看
1. **切换标签**: 点击分析面板的不同标签
2. **词法结果**: Token列表、DFA状态、统计信息
3. **语法结果**: AST树形结构、文法规则
4. **语义结果**: 符号表、错误列表
5. **代码生成**: 中间代码、优化统计

## 🔧 高级功能

### 查找替换功能

#### 启动查找替换
- **仅查找**: Ctrl+F
- **查找替换**: Ctrl+H

#### 查找选项
1. **区分大小写**: 精确匹配大小写
2. **全词匹配**: 只匹配完整单词
3. **正则表达式**: 支持正则表达式语法

#### 正则表达式示例
```
\d+          # 匹配数字
[a-zA-Z]+    # 匹配字母
\w+          # 匹配单词字符
.*           # 匹配任意字符
```

#### 替换操作
1. **替换当前**: 替换选中的匹配项
2. **全部替换**: 替换文档中所有匹配项
3. **预览替换**: 查看替换效果

### 设置配置

#### 打开设置
- **菜单方式**: 编辑 → 设置 (Ctrl+,)
- **设置分类**: 编辑器、分析器

#### 编辑器设置
1. **字体配置**:
   - 字体族: 选择代码字体 (推荐等宽字体)
   - 字体大小: 8-72像素
   
2. **编辑行为**:
   - 显示行号: 开启/关闭行号显示
   - 高亮当前行: 高亮光标所在行
   - 自动缩进: 自动代码缩进
   - 自动换行: 长行自动换行

#### 分析器设置
1. **自动分析**:
   - 启用自动词法分析
   - 分析延迟: 100-5000毫秒
   
2. **语法高亮**:
   - 启用语法高亮
   - 启用错误高亮

#### 设置保存
- 设置自动保存到配置文件
- 重启程序后设置依然有效

### 错误处理

#### 错误类型
1. **词法错误**: 无法识别的字符
2. **语法错误**: 不符合语法规则
3. **语义错误**: 类型不匹配、未声明变量等

#### 错误显示
1. **编辑器标记**: 红色下划线标记错误位置
2. **错误面板**: 详细错误信息列表
3. **状态栏**: 显示错误总数

#### 错误修复
1. **点击错误**: 自动跳转到错误位置
2. **错误提示**: 显示详细错误信息
3. **修复建议**: 部分错误提供修复建议

## ⌨️ 快捷键列表

### 文件操作
| 快捷键 | 功能 |
|--------|------|
| Ctrl+N | 新建文件 |
| Ctrl+O | 打开文件 |
| Ctrl+S | 保存文件 |
| Ctrl+Shift+S | 另存为 |
| Ctrl+Q | 退出程序 |

### 编辑操作
| 快捷键 | 功能 |
|--------|------|
| Ctrl+Z | 撤销 |
| Ctrl+Y | 重做 |
| Ctrl+X | 剪切 |
| Ctrl+C | 复制 |
| Ctrl+V | 粘贴 |
| Ctrl+A | 全选 |

### 查找替换
| 快捷键 | 功能 |
|--------|------|
| Ctrl+F | 查找 |
| Ctrl+H | 替换 |
| F3 | 查找下一个 |
| Shift+F3 | 查找上一个 |
| Ctrl+G | 转到行 |

### 分析操作
| 快捷键 | 功能 |
|--------|------|
| F5 | 词法分析 |
| F6 | 语法分析 |
| F7 | 语义分析 |
| F8 | 代码生成 |
| F9 | 完整分析 |

### 界面操作
| 快捷键 | 功能 |
|--------|------|
| Ctrl+, | 打开设置 |
| F1 | 帮助信息 |
| Escape | 关闭对话框 |

## ❓ 常见问题

### Q1: 程序启动失败
**A**: 检查以下项目：
- 确认Qt5库已正确安装
- 检查文件权限是否正确
- 确认系统架构匹配

### Q2: 词法分析有错误
**A**: 可能原因：
- 文件编码问题（推荐UTF-8）
- 不支持的字符（如中文）
- 文件格式不正确

### Q3: 界面显示异常
**A**: 建议操作：
- 重置窗口大小
- 检查显示分辨率
- 重启程序

### Q4: 分析结果不显示
**A**: 检查事项：
- 确认代码内容不为空
- 检查分析面板是否展开
- 重新进行分析操作

### Q5: 保存文件失败
**A**: 可能原因：
- 文件权限不足
- 磁盘空间不够
- 文件路径无效

### Q6: 快捷键不生效
**A**: 解决方法：
- 确认焦点在正确的组件上
- 检查是否有冲突的快捷键
- 重启程序

## 💡 使用技巧

### 提高效率
1. **熟悉快捷键**: 使用快捷键提高操作速度
2. **自动分析**: 开启自动分析实时查看结果
3. **分屏查看**: 同时查看代码和分析结果
4. **设置优化**: 调整字体和配色提高可读性

### 最佳实践
1. **代码组织**: 保持代码结构清晰
2. **及时保存**: 定期保存避免数据丢失
3. **错误修复**: 及时修复分析发现的错误
4. **配置备份**: 导出设置配置

---

**💬 获取帮助**
- 程序内帮助: F1
- 项目文档: docs/目录
- 问题反馈: GitHub Issues 